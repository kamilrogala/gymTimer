window.onload=function(){document.getElementById("gymTrainerForm");var e,t,n=document.getElementById("trainSeries"),i=document.getElementById("trainRepeats"),a=document.getElementById("trainDelay"),s=document.getElementById("trainDuration"),l=document.getElementById("btnStart"),u=document.getElementById("btnStop"),r=document.getElementById("summaryRepeats"),d=document.getElementById("summaryTime"),o=document.getElementById("app"),m=document.getElementById("startTime"),c=document.getElementById("actualSeriesCount"),y=document.getElementById("leftSeriesCount"),p=document.getElementById("actualRepeatsCount"),g=document.getElementById("leftRepeatsCount"),E=document.getElementById("counts");o.setAttribute("style","display:none"),E.setAttribute("style","display:none");var I=0,T=0,v=0,f=0,B=0,L=0,b=0,M=0,H=5,h=function(){L=(B=T*I)*f+60*v*(I-1),r.getElementsByTagName("span")[0].innerHTML=B,d.getElementsByTagName("span")[0].innerHTML=L,d.getElementsByTagName("span")[1].innerHTML=Math.floor(L/60),y=I,g=T};h();var k=function(){clearInterval(e),clearInterval(t),o.setAttribute("style","display:none"),m.innerHTML=0},S=function(){R("We're starting"),A(),M++,c.innerHTML=M},A=function(){b=0,t=setInterval(function(){b<T?(p.innerHTML=b+1,R(++b)):(clearInterval(t),M!=I?(R("Rest, next is round number "+(M+1)),setTimeout(S,6e4*v)):(k(),w()))},1e3*f)},w=function(){R("Training done")},R=function(e){msg=new SpeechSynthesisUtterance(e),window.speechSynthesis.speak(msg)};n.addEventListener("input",function(){I=this.value,h()}),i.addEventListener("input",function(){T=this.value,h()}),a.addEventListener("input",function(){v=this.value,h()}),s.addEventListener("input",function(){f=this.value,h()}),l.addEventListener("click",function(t){t.preventDefault(),0!=I&&0!=T&&0!=v&&0!=f?(o.setAttribute("style","display:block"),m.setAttribute("style","display:block"),m.innerHTML=H,c.innerHTML=0,y.innerHTML=I,p.innerHTML=0,g.innerHTML=T,R("Zaczynamy za "+H+"sekund, szykuj siÄ™!"),e=setInterval(function(){H--,m.innerHTML=H,0==H&&(clearInterval(e),m.setAttribute("style","display:none"),E.setAttribute("style","display:block"),setTimeout(S,1e3))},1e3)):alert("Fill all inputs")}),u.addEventListener("click",function(e){e.preventDefault(),k(),R("Training stopped")})};